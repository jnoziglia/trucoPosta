<html>

<head>
<script src="https://cdn.socket.io/socket.io-1.3.5.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
  var socket = io.connect('http://localhost:3000');
  socket.on('news', function (data) {
    console.log(data);
    socket.emit('my other event', { my: 'data' });
  });
  socket.on('devuelvo', function (data) {
	alert(data);
  });

  socket.on('sala', function(data) {
  	$('.juego').html('Sala creada: '+data.partida+ ', esperando jugador...');

  });

  function logConsola() {
  	//alert('cliquio');
  	socket.emit('log', { msj: 'holis' });
  	
  }

  function crearSala() {
  	//alert('cliquio');
  	socket.emit('salaNueva', { msj: 'holis' });
  	
  }
  function getPartidas(){
  	$.get( "/partidas", function( data ) {
		 data.forEach(function(item){
  			$('.juego').append('<div class="partida">'+item+'</div>');
  		});
	});


  }
  


</script>
<link rel="stylesheet" type="text/css" href="./css">
</head>
<body onload="getPartidas();">
	<a href="javascript:void(0)" onclick="logConsola()">Holis</a>
	<a href="javascript:void(0)" onclick="crearSala()">Crear sala</a>
	<div class="juego">
		

	</div>
</body>

</html>